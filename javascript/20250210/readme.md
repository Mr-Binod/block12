

# 쿼리 스트링 , 쿠키, 페이지네이션

?Pcode=100001
#name

## 쿼리 스트링

> url 에 데이터가 전달해서 보내는 목적
> 웹을 사용하면서 검색어 관련돤 값을 다루기 위해서 url 에 추가적인 데이터를 전달 하는 방식중에 하나
>    https://test.com?name=soon
### 형태
>    https://test.com?name=soon
>    "? 구문 뒤에 key=value"
>   추가적인 데이터를 key와 value로 전달 할수 있다

>   이전에는 1990년도에는 정적인 문서를 제공하는 방식이 일반적이었지만 이후에 동적으로 데이터를 요청하고 
유저가 입력값을 입력하면 처리하는 방식을 도입 자바스크립트로 처리

>민감한 데이터는 사용하면 안된다. 사용자의 입력값에 따라 검색을 할때 유용하다.

## 쿼리 스트링의 특징
> 브라우저에 데이터를 전달하기 쉽고 민감한 데이터 비밀번호는 url에 포함하면 안된다.
>검색에 유용하게 사용된다.

### 문법

1. ? 표로 시작하는 문자역
2. key=value 데이터를 저장하는 형태
3. & 표시로 여러개의 데이터를 구분

> https://test.com?name=soon&city=seoul

```js
window.location === 쿼리스트링 문자열이 포함되어있다.
window.location.search

```
## 페이지네이션
> 글의 갯수가 많고 해당 갯수만큼만 글을 보여주고 나머지글은 다음 페이지에서 보여줘야 할경우

> 한페이지에 보여줄 갯수 
> 페이지의 번호를 생성하고 보여줄 페이지의 객수를 정해서 유저에게 글의 객수만큼만 보여주게 하는것
> 백엔드에서도 처리가 가능하고 
> 프론트에서도 처리가 가능하다

> 백엔드의 자원을 더 사용할거냐?
> 프론트의 자원을 사용할거냐?

### 페이지네이션 기법

> 한 페이지에 5 개씩 보여야한다.
> 페이지의 퐁 객수에서 보여줘야할 페이지의 갯수를 나누면 페이지네이션의 넘버의 갯수가 나온다
> 소수점 단위는 올림처리를 해서 페이지의 넘버를 생성

### 공식 

- 시작 인덱스 = (현제 페이지 넘버 -1) * 페이지당 보여줄 갯수
예 ) 1 번 페이지 넘버의 화면을 보고있고 글의 갯수는 5
    (1 - 1) * 5 === 0  array 0 index 번부터 시작된다, 첫번째 페이지
    (2 - 1) * 5 === 5  array 0 index 번부터 시작된다, 첫번째 페이지

- 끝 인덱스 = 시작인덱스 + 페이지의 아이템 객수 

- 전체 페이지의 갯수를 계산
  총 페이지 = (전체 글 갯수의 + 보여줄 글의 갯수 -1) / 보여줄 페이지의 글 갯수

  1 2 3 4 

### 슬라이딩 페이지네이션 
- 1 2 3 4 5 > 
- < 6 7 8 9 10 >
- < 11 12 13 14 15 >

> (2 - 1) / 5 ==== 0... === 0 번의 그룹
> (6 - 1) / 5 ==== 1  1번의 그룹
>  (11 - 1) / 5 === 2   2 번의 그룹
> 현제 그룹은 = (보고있는 그룹 -1) / 그룹의 크기  = 현재 그룹
- 시작 페이지 = 현제 그룹 * 그룹의 크기 + 1 
> (8 - 1) / 5 === 1 번 그룹
> 1 번 그룹의 첫 스타트 지점 === (1 * 5 + 1 === 6)

- 끝 그룹의 인덱스 = 시작 페이지 + 그룹의 크기 - 1
> 6 + 5 - 1 === 10 

### 이전 버튼 혹은 다음 버튼 
> 다은 그룹으로 인덱스 변경 === ( 현재 그룹 + 1) * 그룹의 크기 + 1
> (0 + 1) * 5 + 1 === 6 번 인덱스가 시작점

> 이전 그룹으로 인덱스 변겅 === (현재 그룹 - 1) * 그룹 크기 + 1
> (1 - 1) * 5 + 1 === 1 번 인덱스가 시작점 



## 쿠키

> 브라우저에서 서버간의 요청을 처라할때 전달할수 있는 데이터 
> 쿠키는 웝에서 사용자가 브라우저에 저장하는 작은 데이터 사용자 인증에 사용할 데이터
> 문자열에서 원하는 위치를 항상 가져오기에는 비요율적이기 때문에 객체 혹은 배열ㄹ로 형변환해서 사용한다
> "?index=1".indexOf("index"); === 값의 접근을 편하게 하기 위해서 문자열을 잘라서 참조타입으로 바쑤면 값의 접근이 쉬워진다 편해진다.

## 쿠키란? (data saved and will be removed after limitedtime)
> 문자열로 이루어진 키와 값
> 유효 기간이 있는 데이터 브라우저에서 체크한 시점에서 사라진다
> 요청과 응답간에 안전한 데이터를 다룰수있다 . 자바스크립트에서 컨트롤을 못하게 한다. ( 민감한 데이터는 댱연히 저장하면 안된다.)
> 만료시간을 작성할수 있다
> 쿠키를 만들게된 이유가 목적은 사용자의 인증을 유지시키기 위한 데이터


## 쿠키의 문법

```js 
// 쿠키의 데이터 형태 (data structure of cookie)
// key=value;
// expires=만료 시간;
// path=경로에서만 유효한 경로
// domain=모메인 경로;
// Secure; //https 간에만 사용할수 있게
// httpOnly // 안전하게 자바스크립트에서 제어할수 없고 요청 응답 간에만 전달할수 있다
//  SameSite; // 동일한 도메인의 페이지끼리 사용할수 있게 할건지? 에 대한 속성 크로스 사이트를 사용할지 말지

// 쿠키 값 추가 
const date = new Date();
//밀리세컨드로 하루의 시간의 밀리세컨드를 구해서 미래의 시간으 더해서 만료시간을 구하면 하루동안 유지되면 쿠키가 된다.
// path=/ === 루트 경로의 페이지 이휴의 경로에서 모두 접근 가능
// path=/shop === shop 경로 이휴의 서브 path 의 페이지느느 모구 접근 가능 안되
window.document.cookie = `name=soon; expires=${date.getTime() + 1 * 24 * 60 * 60 * 1000}; path=/;`
 // for 1 day cookie for 2 days   2 * 24   in millisecond
```