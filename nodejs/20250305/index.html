

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <div id="content">

    </div>
    <button onclick="submithandler()">요청 보내기</button>
</body>
<script>
    const submithandler = () => {
        
        let xhr = new XMLHttpRequest();
        // 오청을 보내는 코드
        xhr.open("GET", "/")
        // 요청이 완료가 되면
        // 응답을 받는 상태가 되면 호출되는 이벤트
        xhr.onreadystatechange = () => {
            // 완료가 되었을때 완료된 상태를 확인하고 
            // xml 객체의 상태가 완료 상태인지 확인을하고  200 ok 404 error    4 
            if((xhr.readyState === 4) && (xhr.status === 200) ) {
                const data = JSON.parse(xhr.responseText);
                console.log(data)
                for (let i = 0; i < data.length; i++) {
                    const span = document.createElement("span")
                    const span1 = document.createElement("span")
                    const span2 = document.createElement("span")
                    span.append(span1, span2);
                    span1.innerHTML = data[i].title;
                    span2.innerHTML = data[i].content;
                    content.append(span)
                    
                }
            }
            // 응답이 완료되면 처리할 로직
        } 
        // 요청
        xhr.send()
    }
</script>
</html>